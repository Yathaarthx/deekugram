<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deekugram</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #000; color: #fff; display: flex; justify-content: center;
            height: 100vh; overflow: hidden;
        }
        .app-shell {
            width: 100%; max-width: 470px; height: 100%;
            display: flex; flex-direction: column;
            border-left: 0.5px solid #262626; border-right: 0.5px solid #262626;
            position: relative; background: #000;
        }

        /* --- FIXED UI ELEMENTS --- */
        header {
            height: 60px; padding: 0 16px; display: flex;
            justify-content: space-between; align-items: center;
            background: #000; z-index: 10; border-bottom: 0.5px solid #121212;
        }
        .logo { font-size: 24px; font-weight: 600; letter-spacing: -1.2px; }

        .content-area { flex: 1; overflow-y: auto; scrollbar-width: none; }
        .content-area::-webkit-scrollbar { display: none; }

        .view { display: none; flex-direction: column; width: 100%; }
        .view.active { display: flex; }

        /* Stories & Posts */
        .story-container { display: flex; padding: 10px 0 15px 10px; gap: 15px; overflow-x: auto; scrollbar-width: none; border-bottom: 0.5px solid #262626; }
        .story { display: flex; flex-direction: column; align-items: center; gap: 6px; font-size: 11px; color: #a8a8a8; min-width: 70px; }
        .ring { width: 66px; height: 66px; border-radius: 50%; background: linear-gradient(45deg, #f9ce34, #ee2a7b, #6228d7); padding: 2.2px; }
        .inner-circle { width: 100%; height: 100%; background: #000; border-radius: 50%; border: 2px solid #000; overflow: hidden; }
        .inner-circle img { width: 100%; height: 100%; object-fit: cover; }

        .post { border-bottom: 0.5px solid #262626; padding-bottom: 10px; }
        .post-header { padding: 12px; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 600; }
        .avatar-v-sm { width: 32px; height: 32px; border-radius: 50%; background: #262626; overflow: hidden; }
        .avatar-v-sm img { width: 100%; height: 100%; object-fit: cover; }
        .main-img { width: 100%; aspect-ratio: 1/1; background: #121212; overflow: hidden; }
        .main-img img { width: 100%; height: 100%; object-fit: cover; }

        nav { 
            height: 50px; border-top: 0.5px solid #262626; background: #000; 
            display: flex; justify-content: space-around; align-items: center; z-index: 10;
        }
        .nav-icon { width: 24px; height: 24px; stroke: #fff; fill: none; stroke-width: 2; cursor: pointer; }
        .icon-btn { background: none; border: none; cursor: pointer; color: #fff; }

        /* Grid */
        .explore-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; }
        .grid-sq { aspect-ratio: 1/1; background: #121212; overflow: hidden; }
        .grid-sq img { width: 100%; height: 100%; object-fit: cover; }

        /* --- THE FIXED CHAT OVERLAYS --- */
        .overlay { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 1000; 
            display: none; /* Removed from flow entirely */
            flex-direction: column;
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .overlay.active-chat { 
            display: flex; 
            transform: translateX(0);
        }
        
        .chat-header { padding: 15px; display: flex; align-items: center; gap: 15px; border-bottom: 0.5px solid #262626; font-weight: 600; background: #000; height: 60px; }
        .chat-scroll { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; }
        .chat-bubble { padding: 10px 15px; border-radius: 20px; margin-bottom: 10px; max-width: 80%; font-size: 14px; }
        .received { background: #262626; align-self: flex-start; }
        .sent { background: #3797f0; align-self: flex-end; }
    </style>
</head>
<body>

<div class="app-shell">
    <header id="main-header">
        <div class="logo">Deekugram</div>
        <button class="icon-btn" onclick="openOverlay('dm-list')">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 11-7.6-7.6 8.38 8.38 0 013.8.9L21 3z"/></svg>
        </button>
    </header>

    <div class="content-area" id="main-scroller">
        <div id="feed" class="view active">
            <div class="story-container" id="story-row"></div>
            <div id="feed-target"></div>
        </div>

        <div id="search" class="view">
            <div style="padding:15px;"><div style="background:#262626; padding:10px; border-radius:10px; color:#a8a8a8; font-size:14px;">üîç Search more dogs...</div></div>
            <div class="explore-grid" id="search-grid"></div>
        </div>

        <div id="profile" class="view">
            <div style="padding: 20px 16px;">
                <div style="display:flex; align-items:center; gap:30px;">
                    <div style="width:80px; height:80px; border-radius:50%; overflow:hidden; border:1px solid #333;"><img src="https://images.unsplash.com/photo-1517849845537-4d257902454a?w=200" style="width:100%;height:100%;object-fit:cover;"></div>
                    <div style="display:flex; gap:20px; text-align:center;">
                        <div><b>10</b><br><span style="font-size:12px;color:#a8a8a8">Posts</span></div>
                        <div><b>1.2M</b><br><span style="font-size:12px;color:#a8a8a8">Followers</span></div>
                    </div>
                </div>
                <div style="margin-top:15px;"><b>Deeku</b><br><p style="font-size:14px;">My babubabies account  ‚ù§Ô∏è</p></div>
            </div>
            <div class="explore-grid" id="profile-grid"></div>
        </div>
    </div>

    <div id="dm-list" class="overlay">
        <div class="chat-header"><span onclick="closeOverlay('dm-list')" style="cursor:pointer; font-size:24px;">‚Üê</span> Messages</div>
        <div style="padding: 15px; display: flex; align-items: center; gap: 12px;" onclick="openOverlay('chat-room')">
            <div style="width:50px; height:50px; border-radius:50%; background:#262626; display:flex; align-items:center; justify-content:center; font-weight:600;">Y</div>
            <div><b>Yathaarth</b><div style="color:#a8a8a8; font-size:13px;">Iloveyousmm more ‚Ä¢ 2m</div></div>
        </div>
    </div>

    <div id="chat-room" class="overlay">
        <div class="chat-header"><span onclick="closeOverlay('chat-room')" style="cursor:pointer; font-size:24px;">‚Üê</span> Yathaarth</div>
        <div class="chat-scroll">
            <div class="chat-bubble received">Mybabyyy how aree youu</div>
            <div class="chat-bubble sent">I am fine yathu . Iloveyousmm</div>
            <div class="chat-bubble received">Iloveyousmm more </div>
        </div>
    </div>

    <nav>
        <svg class="nav-icon" onclick="changeTab('feed')" viewBox="0 0 24 24"><path d="M22 23h-6.001a1 1 0 01-1-1v-5.645a2 2 0 10-4 0V22a1 1 0 01-1 1H2v-11.039l10-9 10 9V23z"/></svg>
        <svg class="nav-icon" onclick="changeTab('search')" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <svg class="nav-icon" onclick="changeTab('profile')" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    </nav>
</div>

<script>
    const dogs = [
        "https://images.unsplash.com/photo-1534351450181-ea9f78427fe8?w=600&auto=format&fit=crop",

        "https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=600",
        "https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=600",
        "https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?w=600",
        "https://images.unsplash.com/photo-1552053831-71594a27632d?w=600",
        "https://images.unsplash.com/photo-1591160690555-5debfba289f0?w=600",
        "https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=600",
        "https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?w=600",
        "https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=600",
        "https://images.unsplash.com/photo-1548191265-cc70d3d45ba1?w=600"
    ];

    // Setup Feed
    const feed = document.getElementById('feed-target');
    dogs.forEach((img, i) => {
        feed.innerHTML += `<div class="post">
            <div class="post-header"><div class="avatar-v-sm"><img src="${img}"></div><b>dog_daily_${i+1}</b></div>
            <div class="main-img"><img src="${img}"></div>
            <div style="padding:12px;"><span style="font-size:24px; cursor:pointer;" onclick="this.innerHTML=this.innerHTML==='‚ù§Ô∏è'?'‚ô°':'‚ù§Ô∏è'; this.style.color=this.innerHTML==='‚ù§Ô∏è'?'#ff3040':'#fff'">‚ô°</span></div>
        </div>`;
    });

    // Setup Story
    const story = document.getElementById('story-row');
    ['Deeku', 'Buddy', 'Luna', 'Pup', 'Goldy'].forEach((name, i) => {
        story.innerHTML += `<div class="story"><div class="ring"><div class="inner-circle"><img src="${dogs[i]}"></div></div><span>${name}</span></div>`;
    });

    // Setup Grids
    const pGrid = document.getElementById('profile-grid');
    const sGrid = document.getElementById('search-grid');
    dogs.forEach(img => {
        pGrid.innerHTML += `<div class="grid-sq"><img src="${img}"></div>`;
        sGrid.innerHTML += `<div class="grid-sq"><img src="${img}"></div>`;
    });

    function changeTab(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.getElementById('main-scroller').scrollTop = 0;
    }

    function openOverlay(id) {
        const el = document.getElementById(id);
        el.style.display = 'flex';
        setTimeout(() => el.classList.add('active-chat'), 10);
    }

    function closeOverlay(id) {
        const el = document.getElementById(id);
        el.classList.remove('active-chat');
        setTimeout(() => el.style.display = 'none', 300);
    }
</script>

</body>
</html>